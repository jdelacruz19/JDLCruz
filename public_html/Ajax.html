<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>LAB6_Ajax</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.min.css">
    </head>
    <body>
        <div></div>
        
        <script>
            
            let myRequest = 'users.json';
            
            fetch(myRequest)
            .then(function(response) {              
                  return response.json();              
            })
                    .then(displayUsers);
            
             function displayUsers(json)
             {
                 
                  let div = document.querySelector('div');
                  let html = '';
                  file = json;
                  
                    html += '<table class="table is-hoverable">'
                 html += '<tr> <th>User Name</th> <th>Email</th> <th>Registered</th> <th>Active</th> </tr>';
                  
                 //loop json data
                 
                 for(let i in file)
                 {
                     
                      formattedDate = new Date(file[i].registered).toLocaleDateString("en-US", { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric', hour: 'numeric', minute: 'numeric', second: 'numeric' });
                     
                  html += `<tr><td>${file[i].username}</td><td><a href="#">${file[i].email}</td></a><td>${formattedDate}</td><td>${file[i].isActive}</td></tr>`;
             
                 }
                 html += '</table>';
                 div.innerHTML = html;
                 
             }
            
        </script>
        
    </body>
</html>
